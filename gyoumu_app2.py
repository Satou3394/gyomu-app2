import streamlit as st

def main():
    # 指定通りの順序で辞書を定義
    task_dictionary = {
        "東京": [
            "PDF2枚,スルーゲラ1枚(モノ),(PDFは1枚取り置き)",
            "PDF2枚,スルーゲラ2枚(多色),(PDFは1枚取り置き,スルーゲラは1枚結合ゲラに挟む)",
            "結合ゲラ(審査用1枚,取り置き1枚)",
            "確認作業(割付表にてTSCutされている場合は「東京」のみの掲載情報)",
            "取り置きの並べ替え(セットの面名順に並べる)"
        ],
        "支社": [
            "PDFなし,スルーゲラなし",
            "結合ゲラ(審査用1枚,取り置き1枚)",
            "確認作業(「東京」に掲載する場合は「東京」の表記あり)"
        ],
        "日曜版": [
            "PDF2枚,スルーゲラ2枚",
            "結合ゲラ(審査用1枚,取り置き1枚)、多色は未校了",
            "確認作業(TSCutされないため、「東京」と「支社」ごとの掲載情報)",
            "結合ゲラは作業後フォルダ内へ格納",
            "すべて揃ったらハードコピーを各支社発行"
        ],
        "コドモ": [
            "PDF2枚,スルーゲラ2枚(のちにPDFとスルーゲラはBOXへ入れる)",
            "雑報ゲラ(コドモ用のBOXへ3枚 + クリアファイルの取り置き1枚 = 計4枚),(雑報ゲラはカラーで出力)",
            "",
            "KBS上では小枠の作業になる(イメージサイズと枠情報の枠サイズを確認)",
            "確認作業(小枠・雑報の要領でサイズを確認,送信した版を確認)",
            "まとめ",
            "・BOX → 雑報ゲラ3枚 + PDF&スルーゲラ2枚ずつ",
            "・クリアファイル → 雑報ゲラ(結合ゲラ)1枚ずつ"
        ],
        "英字": [
            "原稿一覧にて原稿番号を検索",
            "番号をクリックし「編集」",
            "原稿タイトルを「TKC15 0315」と入力(例)",
            "英字IDをfrontかspecialに",
            "保存",
            "番号をクリックして「公開」「300dpi」(カラー)「単体校了」",
            "製品一覧にて原稿番号で検索",
            "「英字>>」で送信する"
        ],
        "改稿": [
            "セットで校了/結合取消し",
            "結合ステータスを送信済みに戻す",
            "レイヤーIDをクリア",
            "統合もステータスで変えておく",
            "改稿指示書に従って改稿ボードに記録",
            "割当表で赤のチェックを消し、改稿と記入",
            "結合とスルーゲラを廃棄し、PDFに×をつけてボードへ"
        ],
        "道社C": [
            "面情報設定から段数変更",
            "ページ下から該当の素材をドラッグ&ドロップ",
            "通常作業"
        ],
        "小枠": [
            "小枠のみの表示にする",
            "右クリックで素材情報のモノorカラー",
            "小枠関連で枠情報",
            "小枠関連で割当指示",
            "小枠関連で小枠ゲラ(+でページ数を指定して同時出力)",
            "原本とコピー3枚で計4枚",
            "枠、素材のサイズ表記"
        ],
        "結合複写": [
            "製品一覧から原稿番号をクリック",
            "レイヤーIDが各支社に作成されているのを確認"
        ],
        "取り直し": [
            "KBSはステータスで結合、紙面管理は手動で結合",
            "KBS上で校了をかける"
        ],
        "土曜": [
            "社会面は結合まで行い、3課へ渡す前提",
            "社会面は結複している場合、枚数分を支社に渡す",
            "案内や切り替え、メトロを最後に出力する",
            "案内はすべからくスタンプを押す",
            "県版は作業しない",
            "2日先の作業面は校了まで行う"
        ],
        "黒枠": [
            "指示書をもらう",
            "「03.黒枠ベースPDF入稿用」から、ベースをデスクへコピー",
            "「0121 ●枠Kこうりん1 渡邉家」のフォルダを作成し、ベースを入れ、同じ名前にする",
            "Illustratorで原稿入力",
            "全選択でアウトライン化、別名で保存を選択する",
            "OLを名前の最後に付けて、PDF(x1a)で保存",
            "A4印刷をしてチェックをしてもらう",
            "",
            "KBS上でプルーフとしてアップロード",
            "審査の校了を待つ",
            "",
            "道社Cで枠を作成する",
            "黒枠作業の一覧を参照",
            "",
            "ゲラ出し3枚(審査、コージ、ハコ)",
            "棚にある送る用の書類(ハコ)をホッチキス留め",
            "作業用の書類をホッチキス留めし、穴を空けて青いフォルダへ"
        ],
        "一面": [
            "一面全てのレイヤーでかける(大西あり) or 本社単位(記事下、大西抜き)",
            "計4枚の未校了のゲラ(審査2、取り置き1、3課1)を出す",
            "校了後もゲラを1枚3課へ渡す"
        ],
        "校了": [
            "16:00以降の全広は校了をかけない(16:30もある)"
        ],
        "夕刊": [
            "先付けの東京夕刊(多色)は未校了"
        ],
        "面名変更": [
            "札2社が起きる場合",
            "札にある、2社のレイヤー(札レイヤーか東京レイヤーか注視して紙面管理で検索)→札2社へ手付",
            "KBS上で結合ゲラ2枚(コージと審査)",
            "(・審査では朝夕どちらなのか伝えるのがbetter)",
            "審査の校了をもらった後に紙面管理で結合校了",
            "夜勤へ伝える"
        ],
        "面情報": [
            "一面→面情報→紙面面グループ→東京一面",
            "商況セット→Aに代表面チェック入り",
            "商況セット→Bの切替地域→新統合(非切替)"
        ],
        "面外し": [
            "セットで結合校了取り消し&統合で通っている面をステータスで情報送信まで戻す",
            "セットでレイヤーIDクリア"
        ],
        "Time schedule cutを削除": [
            "特にこちらでの作業はありません",
            "工程が統合面に面を立ててくれる",
            "Time scheduleが発生する",
            "",
            "<以下補足>",
            "・Time scheduleとは統合とセットが通ってない場合に発生する",
            "・Time schedule cutとは統合とセットが通っている場合に発生する"
        ],
        "Time schedule cutを発生": [
            "特にこちらでの作業はありません",
            "工程が統合から面を削除してくれる",
            "Time schedule cutが発生する",
            "",
            "<以下補足>",
            "・Time scheduleとは統合とセットが通ってない場合に発生する",
            "・Time schedule cutとは統合とセットが通っている場合に発生する"
        ],
        "不定0段": [
            "半5と半5の場合は詳細割り付けにてズレを確認",
            "",
            "L字(ラテ)の場合、編成が罫線を引くため、此方では罫線作業しない",
            "天、地の罫線を全て外す。理由は天罫が落ちるため"
        ]
    }

    # 指定通りの順序で表示するためのキーリスト
    display_order = [
        "東京", "支社", "日曜版", "コドモ", "英字", "改稿", "道社C", "小枠",
        "結合複写", "取り直し", "土曜", "黒枠", "一面", "校了", "夕刊",
        "面名変更", "面情報", "面外し", "Time schedule cutを削除",
        "Time schedule cutを発生", "不定0段"
    ]

    # Streamlitアプリの設定
    st.set_page_config(page_title="作業内容ガイド", layout="wide")
    st.title("作業内容ガイド")

    # サイドバーに選択肢を表示
    selected_task = st.sidebar.selectbox(
        "作業項目を選択してください",
        display_order,
        index=0
    )

    # メインコンテンツ
    st.subheader(f"{selected_task}の作業内容")
    
    # 作業内容を表示
    for item in task_dictionary[selected_task]:
        if item.strip():  # 空行は無視
            st.write(f"・{item}")

    # 全項目を折りたたみ可能なセクションで表示
    with st.expander("全作業項目を表示"):
        for task in display_order:
            st.subheader(task)
            for item in task_dictionary[task]:
                if item.strip():
                    st.write(f"・{item}")
            st.write("---")

if __name__ == "__main__":
    main()